Properties properties = new Properties()
File versionRootDir = rootDir
File versionProperties = new File(versionRootDir, "buildSrc/base/version.properties")

while (!versionProperties.exists() && versionRootDir.parentFile != null &&
        versionRootDir.parentFile.exists()) {
    versionRootDir = versionRootDir.parentFile
    versionProperties = new File(versionRootDir, "buildSrc/base/version.properties")
}

versionProperties.withReader { properties.load(it) }

for (name in properties.stringPropertyNames()) {
    project.ext[name] = properties.getProperty(name)
}
